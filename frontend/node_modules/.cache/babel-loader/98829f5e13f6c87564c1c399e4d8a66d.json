{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { loginApi, signupApi } from \"../../api/authApi\";\nconst initialState = {\n  userData: null,\n  isLoading: false,\n  error: null\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    signup: (state, action) => {\n      state.isLoading = true;\n      const data = fetchSignupData(action.payload);\n      state.userData = data;\n      state.isLoading = false;\n\n      // signupApi(action.payload).then((res) => {\n      //   localStorage.setItem(\"signupToken\", JSON.stringify(res.data));\n      // }\n      //   );\n    },\n\n    login: (state, action) => {\n      state.isLoading = true;\n      console.log(action.payload);\n      const data = fetchLoginData(action.payload);\n      state.userData = data;\n      state.isLoading = false;\n\n      // loginApi(action.payload).then((res) => {\n      //   localStorage.setItem(\"loginToken\", JSON.stringify(res.data));\n      // });\n    },\n\n    logout: (state, action) => {}\n  }\n});\nexport const {\n  login,\n  logout,\n  signup\n} = authSlice.actions;\nexport default authSlice.reducer;\nconst fetchLoginData = async loginData => {\n  try {\n    const {\n      data\n    } = await loginApi(loginData);\n    return data;\n  } catch (error) {\n    initialState.error = error;\n    console.log(error);\n  }\n};\nconst fetchSignupData = async signupData => {\n  try {\n    const {\n      data\n    } = await signupApi(signupData);\n    return data;\n  } catch (error) {\n    initialState.error = error;\n    console.log(error);\n  }\n};","map":{"version":3,"names":["createSlice","loginApi","signupApi","initialState","userData","isLoading","error","authSlice","name","reducers","signup","state","action","data","fetchSignupData","payload","login","console","log","fetchLoginData","logout","actions","reducer","loginData","signupData"],"sources":["C:/Users/kaush/OneDrive/Desktop/Development/Social Media/frontend/src/redux/slices/auth.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { loginApi, signupApi } from \"../../api/authApi\";\r\nconst initialState = {\r\n  userData: null,\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    signup: (state, action) => {\r\n      state.isLoading = true;\r\n      const data = fetchSignupData(action.payload);\r\n      state.userData = data;\r\n      state.isLoading = false;\r\n\r\n      // signupApi(action.payload).then((res) => {\r\n      //   localStorage.setItem(\"signupToken\", JSON.stringify(res.data));\r\n      // }\r\n      //   );\r\n    },\r\n    login: (state, action) => {\r\n      state.isLoading = true;\r\n      console.log(action.payload);\r\n      const data = fetchLoginData(action.payload);\r\n      state.userData = data;\r\n      state.isLoading = false;\r\n\r\n      // loginApi(action.payload).then((res) => {\r\n      //   localStorage.setItem(\"loginToken\", JSON.stringify(res.data));\r\n      // });\r\n    },\r\n    logout: (state, action) => {},\r\n  },\r\n});\r\n\r\nexport const { login, logout, signup } = authSlice.actions;\r\n\r\nexport default authSlice.reducer;\r\n\r\nconst fetchLoginData = async (loginData) => {\r\n  try {\r\n    const { data } = await loginApi(loginData);\r\n    return data;\r\n  } catch (error) {\r\n    initialState.error=error;\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst fetchSignupData = async (signupData) => {\r\n  try {\r\n    const { data } = await signupApi(signupData);\r\n    return data;\r\n  } catch (error) {\r\n    initialState.error=error;\r\n    console.log(error);\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,QAAQ,EAAEC,SAAS,QAAQ,mBAAmB;AACvD,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,IAAI;EACdC,SAAS,EAAE,KAAK;EAChBC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,SAAS,GAAGP,WAAW,CAAC;EAC5BQ,IAAI,EAAE,MAAM;EACZL,YAAY;EACZM,QAAQ,EAAE;IACRC,MAAM,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACzBD,KAAK,CAACN,SAAS,GAAG,IAAI;MACtB,MAAMQ,IAAI,GAAGC,eAAe,CAACF,MAAM,CAACG,OAAO,CAAC;MAC5CJ,KAAK,CAACP,QAAQ,GAAGS,IAAI;MACrBF,KAAK,CAACN,SAAS,GAAG,KAAK;;MAEvB;MACA;MACA;MACA;IACF,CAAC;;IACDW,KAAK,EAAE,CAACL,KAAK,EAAEC,MAAM,KAAK;MACxBD,KAAK,CAACN,SAAS,GAAG,IAAI;MACtBY,OAAO,CAACC,GAAG,CAACN,MAAM,CAACG,OAAO,CAAC;MAC3B,MAAMF,IAAI,GAAGM,cAAc,CAACP,MAAM,CAACG,OAAO,CAAC;MAC3CJ,KAAK,CAACP,QAAQ,GAAGS,IAAI;MACrBF,KAAK,CAACN,SAAS,GAAG,KAAK;;MAEvB;MACA;MACA;IACF,CAAC;;IACDe,MAAM,EAAE,CAACT,KAAK,EAAEC,MAAM,KAAK,CAAC;EAC9B;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEI,KAAK;EAAEI,MAAM;EAAEV;AAAO,CAAC,GAAGH,SAAS,CAACc,OAAO;AAE1D,eAAed,SAAS,CAACe,OAAO;AAEhC,MAAMH,cAAc,GAAG,MAAOI,SAAS,IAAK;EAC1C,IAAI;IACF,MAAM;MAAEV;IAAK,CAAC,GAAG,MAAMZ,QAAQ,CAACsB,SAAS,CAAC;IAC1C,OAAOV,IAAI;EACb,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdH,YAAY,CAACG,KAAK,GAACA,KAAK;IACxBW,OAAO,CAACC,GAAG,CAACZ,KAAK,CAAC;EACpB;AACF,CAAC;AAED,MAAMQ,eAAe,GAAG,MAAOU,UAAU,IAAK;EAC5C,IAAI;IACF,MAAM;MAAEX;IAAK,CAAC,GAAG,MAAMX,SAAS,CAACsB,UAAU,CAAC;IAC5C,OAAOX,IAAI;EACb,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdH,YAAY,CAACG,KAAK,GAACA,KAAK;IACxBW,OAAO,CAACC,GAAG,CAACZ,KAAK,CAAC;EACpB;AACF,CAAC"},"metadata":{},"sourceType":"module"}