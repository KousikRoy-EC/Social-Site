{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { loginApi, signupApi } from \"../../api/authApi\";\nconst initialState = {\n  userData: null,\n  isLoading: false,\n  error: null\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    signup: (state, action) => {\n      state.isLoading = true;\n      const data = fetchSignupData(action.payload);\n      console.log(data);\n      state.userData = data;\n      state.isLoading = false;\n\n      // signupApi(action.payload).then((res) => {\n      //   localStorage.setItem(\"signupToken\", JSON.stringify(res.data));\n      // }\n      //   );\n    },\n\n    login: (state, action) => {\n      state.isLoading = true;\n      const data = fetchLoginData(action.payload);\n      state.userData = data;\n      state.isLoading = false;\n\n      // loginApi(action.payload).then((res) => {\n      //   localStorage.setItem(\"loginToken\", JSON.stringify(res.data));\n      // });\n    },\n\n    logout: (state, action) => {}\n  }\n});\nexport const {\n  login,\n  logout,\n  signup\n} = authSlice.actions;\nexport default authSlice.reducer;\nasync function fetchLoginData(loginData) {\n  try {\n    const {\n      data\n    } = await loginApi(loginData);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\nasync function fetchSignupData(signupData) {\n  var data = null;\n  try {\n    await signupApi(signupData).then(res => {\n      data = res.data;\n      localStorage.setItem(\"signupToken\", JSON.stringify(data));\n      return data;\n    });\n    // const { data } = await signupApi(signupData);\n    // return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n;","map":{"version":3,"names":["createSlice","loginApi","signupApi","initialState","userData","isLoading","error","authSlice","name","reducers","signup","state","action","data","fetchSignupData","payload","console","log","login","fetchLoginData","logout","actions","reducer","loginData","signupData","then","res","localStorage","setItem","JSON","stringify"],"sources":["C:/Users/kaush/OneDrive/Desktop/Development/Social Media/frontend/src/redux/slices/auth.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { loginApi, signupApi } from \"../../api/authApi\";\r\nconst initialState = {\r\n  userData: null,\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    signup: (state, action) => {\r\n      state.isLoading = true;\r\n      const data = fetchSignupData(action.payload);\r\n      console.log(data);\r\n      state.userData = data;\r\n      state.isLoading = false;\r\n\r\n      // signupApi(action.payload).then((res) => {\r\n      //   localStorage.setItem(\"signupToken\", JSON.stringify(res.data));\r\n      // }\r\n      //   );\r\n    },\r\n    login: (state, action) => {\r\n      state.isLoading = true;\r\n      const data = fetchLoginData(action.payload);\r\n      state.userData = data;\r\n      state.isLoading = false;\r\n\r\n      // loginApi(action.payload).then((res) => {\r\n      //   localStorage.setItem(\"loginToken\", JSON.stringify(res.data));\r\n      // });\r\n    },\r\n    logout: (state, action) => {},\r\n  },\r\n});\r\n\r\nexport const { login, logout, signup } = authSlice.actions;\r\n\r\nexport default authSlice.reducer;\r\n\r\nasync function fetchLoginData(loginData) {\r\n  try {\r\n    const { data } = await loginApi(loginData);\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\n\r\nasync function fetchSignupData(signupData){\r\n  var data=null;\r\n  try {\r\n      await signupApi(signupData).then((res) => {\r\n        data=res.data\r\n        localStorage.setItem(\"signupToken\", JSON.stringify(data));\r\n        return data;\r\n      }\r\n        );\r\n    // const { data } = await signupApi(signupData);\r\n    // return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,QAAQ,EAAEC,SAAS,QAAQ,mBAAmB;AACvD,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,IAAI;EACdC,SAAS,EAAE,KAAK;EAChBC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,SAAS,GAAGP,WAAW,CAAC;EAC5BQ,IAAI,EAAE,MAAM;EACZL,YAAY;EACZM,QAAQ,EAAE;IACRC,MAAM,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACzBD,KAAK,CAACN,SAAS,GAAG,IAAI;MACtB,MAAMQ,IAAI,GAAGC,eAAe,CAACF,MAAM,CAACG,OAAO,CAAC;MAC5CC,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;MACjBF,KAAK,CAACP,QAAQ,GAAGS,IAAI;MACrBF,KAAK,CAACN,SAAS,GAAG,KAAK;;MAEvB;MACA;MACA;MACA;IACF,CAAC;;IACDa,KAAK,EAAE,CAACP,KAAK,EAAEC,MAAM,KAAK;MACxBD,KAAK,CAACN,SAAS,GAAG,IAAI;MACtB,MAAMQ,IAAI,GAAGM,cAAc,CAACP,MAAM,CAACG,OAAO,CAAC;MAC3CJ,KAAK,CAACP,QAAQ,GAAGS,IAAI;MACrBF,KAAK,CAACN,SAAS,GAAG,KAAK;;MAEvB;MACA;MACA;IACF,CAAC;;IACDe,MAAM,EAAE,CAACT,KAAK,EAAEC,MAAM,KAAK,CAAC;EAC9B;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEM,KAAK;EAAEE,MAAM;EAAEV;AAAO,CAAC,GAAGH,SAAS,CAACc,OAAO;AAE1D,eAAed,SAAS,CAACe,OAAO;AAEhC,eAAeH,cAAc,CAACI,SAAS,EAAE;EACvC,IAAI;IACF,MAAM;MAAEV;IAAK,CAAC,GAAG,MAAMZ,QAAQ,CAACsB,SAAS,CAAC;IAC1C,OAAOV,IAAI;EACb,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdU,OAAO,CAACC,GAAG,CAACX,KAAK,CAAC;EACpB;AACF;AAGA,eAAeQ,eAAe,CAACU,UAAU,EAAC;EACxC,IAAIX,IAAI,GAAC,IAAI;EACb,IAAI;IACA,MAAMX,SAAS,CAACsB,UAAU,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;MACxCb,IAAI,GAACa,GAAG,CAACb,IAAI;MACbc,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEC,IAAI,CAACC,SAAS,CAACjB,IAAI,CAAC,CAAC;MACzD,OAAOA,IAAI;IACb,CAAC,CACE;IACL;IACA;EACF,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdU,OAAO,CAACC,GAAG,CAACX,KAAK,CAAC;EACpB;AACF;AAAC"},"metadata":{},"sourceType":"module"}